<!-- Loader.razor -->
<CascadingValue Value="this">
    @ChildContent

    @if (IsVisible)
    {
        <div class="loader-overlay">
            <div class="spinner-grow text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    }
</CascadingValue>

@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    private bool IsVisible { get; set; }

    public void Show()
    {
        IsVisible = true;
        InvokeAsync(StateHasChanged);
    }

    public void Hide()
    {
        IsVisible = false;
        InvokeAsync(StateHasChanged);
    }
}
